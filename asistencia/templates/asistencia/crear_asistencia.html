{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <h2 class="text-center text-primary mb-4">Registrar Asistencia para la asignatura {{ asignatura.nombre }}</h2>
    
    <form method="post">
        {% csrf_token %}
        
        <!-- Campo para seleccionar la fecha -->
        <div class="form-group mb-4">
            <label for="fecha" class="form-label">Fecha de Asistencia:</label>
            <input type="date" name="fecha" id="fecha" class="form-control" value="{{ fecha }}" required>
        </div>

        <!-- Lista de Alumnos -->
        <div class="mt-5">
            <h4 class="text-info mb-3">Selecciona los alumnos presentes:</h4>

            <div class="list-group">
                {% for alumno in alumnos %}
                    <div class="list-group-item d-flex justify-content-between align-items-center">
                        <div>
                            <input type="checkbox" name="asistio_{{ alumno.id }}" value="on" class="alumno_checkbox me-2">
                            <strong>{{ alumno }}</strong> <!-- Esto mostrarÃ¡ nombre y RUT -->
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>

        <div class="text-center mt-4">
            <button type="submit" class="btn btn-success btn-lg">
                <i class="bi bi-check-circle"></i> Registrar Asistencia
            </button>
        </div>
    </form>
</div>
{% endblock %}
